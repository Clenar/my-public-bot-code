# –°–≤–æ–¥–∫–∞ –ø–æ –ü—Ä–æ–µ–∫—Ç—É Sprofy

*–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 2025-05-10 20:25:40*

---
## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ Git

- **–•–µ—à:** `e709769`
- **–ê–≤—Ç–æ—Ä –∏ –¥–∞—Ç–∞:** [Clenar | 2025-05-05 15:18:19 +0300]
- **–°–æ–æ–±—â–µ–Ω–∏–µ:**
```
feat: Configure and install pre-commit hooks (Ruff)
```

---
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ (–¥–æ 4 —É—Ä.)

```
Sprofy/
‚îú‚îÄ‚îÄ .ruff_cache/
‚îÇ   ‚îú‚îÄ‚îÄ 0.11.8/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1094849191782405704
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1100957798221044866
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 11301051221357077044
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 13223597969514969530
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 13928466114805752735
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1547183661431700990
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 16079497110708097043
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 16270542731513361243
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1764963704862264814
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1953305668472705653
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 4023830299200022445
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 6271238280797697699
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 7294653552353298848
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 8541707759944934240
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 8570818244250132648
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 9916668687891703958
‚îÇ   ‚îú‚îÄ‚îÄ 0.4.4/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 14524764129423063789
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2313564417124664983
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 264113276507796654
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 424259661865943528
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 8020284696217805999
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 8797470824177317492
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 910295384456799379
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore
‚îÇ   ‚îî‚îÄ‚îÄ CACHEDIR.TAG
‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ interaction.py
‚îú‚îÄ‚îÄ BehaviorEngine/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ engine.py
‚îÇ   ‚îú‚îÄ‚îÄ executor.py
‚îÇ   ‚îú‚îÄ‚îÄ parser.py
‚îÇ   ‚îî‚îÄ‚îÄ state_manager.py
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ cities.py
‚îÇ   ‚îî‚îÄ‚îÄ services.py
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îú‚îÄ‚îÄ city.py
‚îÇ   ‚îú‚îÄ‚îÄ comments.py
‚îÇ   ‚îú‚îÄ‚îÄ common_handlers.py
‚îÇ   ‚îú‚îÄ‚îÄ custom_test_handlers.py
‚îÇ   ‚îú‚îÄ‚îÄ finish.py
‚îÇ   ‚îú‚îÄ‚îÄ registration.py
‚îÇ   ‚îú‚îÄ‚îÄ scenario_logic_handlers.py
‚îÇ   ‚îú‚îÄ‚îÄ service.py
‚îÇ   ‚îî‚îÄ‚îÄ start.py
‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main_keyboard.py
‚îÇ   ‚îî‚îÄ‚îÄ services_keyboard.py
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ test_ai_interaction.py
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ error_handler.py
‚îÇ   ‚îî‚îÄ‚îÄ message_utils.py
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .pre-commit-config.yaml
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ load_services_to_db.py
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements-dev.txt
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ run.py
‚îî‚îÄ‚îÄ services_data.csv
```

---
## –ö–ª—é—á–µ–≤—ã–µ –§–∞–π–ª—ã –∏ –ü–∞–ø–∫–∏

- `run.py` ‚úÖ: –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É Application –∏ ConversationHandler.
- `config.py` ‚úÖ: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª (–í–ê–ñ–ù–û: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ .gitignore!). –•—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î.
- `database/models.py` ‚úÖ: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SQLAlchemy (—Ç–∞–±–ª–∏—Ü—ã UserData, Masters, Services –∏ —Ç.–¥.).
- `load_services_to_db.py` ‚úÖ: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ–± —É—Å–ª—É–≥–∞—Ö –∏–∑ CSV –≤ –ë–î (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –æ–¥–∏–Ω —Ä–∞–∑).
- `handlers/` ‚úÖ: –ü–∞–ø–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–ª–±—ç–∫–æ–≤ Telegram (—Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –ª–æ–≥–∏–∫–µ: start, city, service –∏ —Ç.–¥.).
- `keyboards/` ‚úÖ: –ü–∞–ø–∫–∞ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Telegram-–∫–ª–∞–≤–∏–∞—Ç—É—Ä.
- `utils/` ‚úÖ: –ü–∞–ø–∫–∞ –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, error_handler).
- `data/` ‚úÖ: –ü–∞–ø–∫–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).
- `ROADMAP.md` ‚úÖ: –§–∞–π–ª —Å –ø–ª–∞–Ω–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (Roadmap).
- `.gitignore` ‚úÖ: –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Git –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫.
- `requirements.txt` ‚úÖ: –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python –ø—Ä–æ–µ–∫—Ç–∞.
- `PROJECT_SUMMARY.md` ‚úÖ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π —Ñ–∞–π–ª-—Å–≤–æ–¥–∫–∞ –æ –ø—Ä–æ–µ–∫—Ç–µ (—ç—Ç–æ—Ç —Ñ–∞–π–ª).

---
## Roadmap (–∏–∑ ROADMAP.md)

```markdown
Markdown
Roadmap v11.8: –ü–ª–∞–Ω –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ë–æ—Ç–∞ @Sprofy_bot
(–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 10 –º–∞—è 2025 –≥., –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ /start, —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ ConversationHandler –∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ "—á–∏—Å—Ç–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞" BehaviorEngine)

üìå –í–∞–∂–Ω—ã–µ –ó–∞–º–µ—á–∞–Ω–∏—è –ø–æ –†–∞–±–æ—á–µ–º—É –ü—Ä–æ—Ü–µ—Å—Å—É, –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é —Å AI:

Git –∏ GitHub: –ö–æ–¥ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è (Git), —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ GitHub. –ö–æ–º–º–∏—Ç—ã –∞—Ç–æ–º–∞—Ä–Ω—ã–µ, —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. *.pyc, __pycache__/, venv/, *.log, *.csv, .env, bot_main.log, bot_debug.log –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ .gitignore.
–°–≤–æ–¥–∫–∞ –ü—Ä–æ–µ–∫—Ç–∞ (PROJECT_SUMMARY.md): –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º generate_summary.py. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∫–æ–¥–∞ –∏ Roadmap.
–ü–ª–∞–Ω –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (ROADMAP.md): –≠—Ç–æ—Ç —Ñ–∞–π–ª. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –æ–±—Å—É–∂–¥–µ–Ω–∏–π. –ö–æ–º–º–∏—Ç–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å–æ —Å–≤–æ–¥–∫–æ–π.
–ö–∞—á–µ—Å—Ç–≤–æ –ö–æ–¥–∞: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ. –í–Ω–µ–¥—Ä–µ–Ω—ã ruff (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥, –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ pyproject.toml) –∏ pre-commit —Ö—É–∫–∏ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —á–µ—Ä–µ–∑ .pre-commit-config.yaml). –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.5)
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –î–≤–∏–∂–∫–∞ –°—Ü–µ–Ω–∞—Ä–∏–µ–≤ (BehaviorEngine):
‚úÖ (v11.8) –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–ª–∞–∂–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: –¥–≤–∏–∂–æ–∫ –≤ –ø–∞–ø–∫–µ BehaviorEngine/, —á–∏—Ç–∞—é—â–∏–π YAML –∏–∑ –ë–î (parser.py + –∫—ç—à), —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ë–î (state_manager.py + –º–æ–¥–µ–ª—å UserStates), –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π —à–∞–≥–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è (executor.py —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–ª–∞–≥–∞ `_internal_on_entry_actions_done` –∏ —Ñ–ª–∞–≥–∞ `process_only_on_entry`, –∞ —Ç–∞–∫–∂–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π) –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (engine.py —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π `on_entry` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ —è–≤–Ω—ã–º `commit`). (–†–∞–∑–≤–∏—Ç–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ –∏–∑ v11.6, –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ v11.8)
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ on_entry/input_handlers –∏ _match_filters —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
‚úÖ (v11.8) –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ on_entry (—á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `_internal_on_entry_actions_done` –≤ state_context, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π `executor.py`, –∏ –ª–æ–≥–∏–∫—É `process_only_on_entry` –≤ `executor.py` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `trigger_on_entry_for_state`). (–†–∞–∑–≤–∏—Ç–∏–µ –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ –∏–∑ v11.6, –æ–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
‚úÖ (v11.8) –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π (–≤–∫–ª—é—á–∞—è `next_state` –¥–ª—è `transition_to`) –≤ executor.py —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `state_context`, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏ —Ç–∏–ø–∞ `{–∫–ª—é—á_–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞}`. (–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ v11.7, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ v11.8)
‚úÖ (v11.8) –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ engine.py (–¥–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π `commit` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–∏–∫–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ `update` –∏–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è). (–î–æ–±–∞–≤–ª–µ–Ω–æ v11.6, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ v11.8)
‚úÖ (v11.8) –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ state_context –≤ –ë–î, –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ executor.py (—Å —É—á–µ—Ç–æ–º —Ñ–ª–∞–≥–∞ `_internal_on_entry_actions_done`). (–î–æ–±–∞–≤–ª–µ–Ω–æ v11.6, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ v11.8)
–§–æ—Ä–º–∞—Ç YAML –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Å —É—á–µ—Ç–æ–º –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI-–∞–≥–µ–Ω—Ç–æ–≤. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚è≥ (–§–∞–∑–∞ 5 –∏ –¥–∞–ª–µ–µ) –û—Ç–¥–µ–ª—è—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç Telegram-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ Mini App / API. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)
–°—Ç–∏–ª—å –ö–æ–¥–∞ Python: –í–µ—Å—å –∫–æ–¥ –≤ .py —Ñ–∞–π–ª–∞—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤ # === BLOCK N: ... ===. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ò–∑–º–µ–Ω–µ–Ω–∏–π –ö–æ–¥–∞ (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è AI): –ü—Ä–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤–µ—Å—å –±–ª–æ–∫ (# === BLOCK ... === ... # === END BLOCK ===), –≤ –∫–æ—Ç–æ—Ä—ã–π –≤–Ω–æ—Å—è—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏–ª–∏ –≤–µ—Å—å —Ñ–∞–π–ª, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤ –∏–ª–∏ —ç—Ç–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. (–£—Ç–æ—á–Ω–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.5)
–ü—Ä–∞–≤–∏–ª–∞ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI (v11.5): (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)
3.  (–ë–ª–æ–∫–∏ –∫–æ–¥–∞): –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ/–Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞, AI –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –≤–µ—Å—å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –±–ª–æ–∫ –∏–ª–∏ –≤–µ—Å—å —Ñ–∞–π–ª, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã –∏–ª–∏ —ç—Ç–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. (–£—Ç–æ—á–Ω–µ–Ω–æ v11.5).
4.  (–û—à–∏–±–∫–∏ –≤ –Ω–µ–≤–∏–¥–∏–º–æ–º –∫–æ–¥–µ): –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π AI –Ω–µ –≤–∏–¥–µ–ª, AI —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–Ω–∞–ª–∏–∑/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
5.  (–ó–∞–≥–ª—É—à–∫–∏/–ë—É–¥—É—â–µ–µ): AI –¥–æ–ª–∂–µ–Ω —É—Ç–æ—á–Ω—è—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã/–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (F401/F841) –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏—Ö —É–¥–∞–ª–µ–Ω–∏–µ.
6.  (–ö–æ–Ω–µ—á–Ω—ã–π –∫–æ–¥): –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç '–∫–æ–Ω–µ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç' –∫–æ–¥–∞ –¥–ª—è —Ñ–∞–π–ª–∞ –∏–ª–∏ —ç—Ç–∞–ø–∞, AI –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–µ–∫—É—â–∏–º —Ä–µ—à–µ–Ω–∏—è–º (–¥–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–æ–π), –∏ –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫ —ç—Ç–æ–≥–æ –∫–æ–¥–∞, –æ–∂–∏–¥–∞—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. (–î–æ–±–∞–≤–ª–µ–Ω–æ v11.5).
‚úÖ (v11.8) –ù–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è –±–æ–ª–µ–µ "—á–∏—Å—Ç–æ–º—É" –∏ –Ω–∞–¥–µ–∂–Ω–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ —É—Å–∏–ª–∏–π –Ω–∞ –Ω–∞—á–∞–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ, —Å —Ü–µ–ª—å—é —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –±—É–¥—É—â–µ–µ. –û–±—Å—É–∂–¥–∞–µ—Ç—Å—è —Å AI. (–î–æ–±–∞–≤–ª–µ–Ω–æ v11.8)

–§–∞–∑—ã –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏
Phase 0: –§—É–Ω–¥–∞–º–µ–Ω—Ç (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
‚úÖ –ë–∞–∑–æ–≤—ã–π —Å–∫–µ–ª–µ—Ç –±–æ—Ç–∞ (run.py, config.py).
‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω .gitignore.
Phase 1: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ SQLAlchemy –∏ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –£—Å–ø–µ—à–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ SQLAlchemy[asyncio] + asyncpg.
‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞.
‚úÖ –†–∞–±–æ—á–∏–π CRUD –¥–ª—è UserData.
‚úÖ –§–∏–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ Git.
Phase 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –°—Ö–µ–º–∞ –ë–î –∏ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –î–∞–Ω–Ω—ã—Ö (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î v2.5 (7 —Ç–∞–±–ª–∏—Ü –¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è).
‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π v2.5 –≤ database/models.py.
‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã v2.5 –∫ –ë–î.
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ Services –≤ –ë–î.
‚úÖ –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ RegistrationCodes.
‚úÖ –°–æ–∑–¥–∞–Ω—ã ROADMAP.md, PROJECT_SUMMARY.md, generate_summary.py.
‚úÖ –§–∏–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –§–∞–∑—ã 2 –≤ Git.
Phase 3: –ë–∞–∑–æ–≤—ã–π –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è AI + –ê–¥–º–∏–Ω-–§—É–Ω–∫—Ü–∏–∏ + –ü–µ—Ä–≤—ã–π –î–∏–∞–ª–æ–≥ (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI (ai/interaction.py, –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ –ë–î Instructions).
‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞–º–∏, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏).
‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ AI-–¥–∏–∞–ª–æ–≥–∞ (/start —á–µ—Ä–µ–∑ ConversationHandler).
‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –î–≤–∏–∂–∫—É –°—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–º–æ–¥–µ–ª—å ConversationScenario, –∫–æ–º–∞–Ω–¥–∞ /upload_scenario).
‚úÖ –§–∏–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –§–∞–∑—ã 3 –≤ Git.
‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Gemini / Vertex AI –æ—Ç–ª–æ–∂–µ–Ω–∞. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)

Phase 4: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –î–≤–∏–∂–∫–∞ –°—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ë–∞–∑–æ–≤—ã—Ö –°—Ü–µ–Ω–∞—Ä–∏–µ–≤ (‚úÖ –ö–ª—é—á–µ–≤–æ–π —ç—Ç–∞–ø –ø–æ `/start` –∑–∞–≤–µ—Ä—à–µ–Ω, —Ñ–∞–∑–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è)

‚úÖ –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤. (–í—ã–ø–æ–ª–Ω–µ–Ω–æ) (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
‚úÖ –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ö–∞—á–µ—Å—Ç–≤–∞ –ö–æ–¥–∞. (ruff, pre-commit –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç). (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.5) (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
‚úÖ –®–∞–≥ 3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ "–î–≤–∏–∂–∫–∞ –°—Ü–µ–Ω–∞—Ä–∏–µ–≤" (BehaviorEngine): (–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.6)
    ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ BehaviorEngine/. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
    ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ë–î (UserStates, state_manager.py) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
    ‚úÖ state_manager.py (get/update/reset state) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
    ‚úÖ parser.py (load/parse/cache YAML) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
    ‚úÖ (v11.8) executor.py (–æ–±—Ä–∞–±–æ—Ç–∫–∞ `on_entry` (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `_internal_on_entry_actions_done` –∏ —Å —É—á–µ—Ç–æ–º —Ñ–ª–∞–≥–∞ `process_only_on_entry`), `input_handlers`, `_match_filters`, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –¥–æ—Ä–∞–±–æ—Ç–∞–Ω. (–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ v11.6, v11.7)
    ‚úÖ (v11.8) engine.py (—Ñ—É–Ω–∫—Ü–∏—è `handle_update` —Ç–µ–ø–µ—Ä—å —Å —Ü–∏–∫–ª–æ–º –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ `on_entry` —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ—Å–ª–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤; —Ñ—É–Ω–∫—Ü–∏—è `trigger_on_entry_for_state` –¥–ª—è –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ `on_entry` –∏–∑–≤–Ω–µ; —è–≤–Ω—ã–π `commit` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `update`) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –¥–æ—Ä–∞–±–æ—Ç–∞–Ω. (–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ v11.6, v11.7)
    ‚úÖ BehaviorEngine –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `run.py` (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `engine_handle_update` –≤ –≥—Ä—É–ø–ø–µ 0). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
    ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–≤–∏–∂–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ (—á–µ—Ä–µ–∑ `test_simple_v1.yaml` –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Å—Ç—ã —Å—Ü–µ–Ω–∞—Ä–∏—è `/start`). (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.6, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
    ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π –≤ `executor.py`: (–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.6, v11.7)
        ‚úÖ `_handle_send_message` (—Å —Ç–µ–∫—Å—Ç–æ–º –∏–∑ YAML/DB, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º). (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏–∑ v11.7)
        ‚úÖ `_handle_call_ai` (—Å –≤—ã–∑–æ–≤–æ–º `generate_text_response`, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞). (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏–∑ v11.7)
        ‚úÖ `_handle_call_handler` (—Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –≤—ã–∑–æ–≤–æ–º async —Ñ—É–Ω–∫—Ü–∏–π, –ø–µ—Ä–µ–¥–∞—á–µ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞). (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏–∑ v11.7)
        ‚úÖ `_handle_transition_to` (—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π `set_context` –∏ —Å–ª–∏—è–Ω–∏–µ–º, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `next_state`, —Å–±—Ä–æ—Å–æ–º —Ñ–ª–∞–≥–∞ `_internal_on_entry_actions_done` –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è). (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏–∑ v11.7)
    ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`local_state_context`) –≤ –ë–î, –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `executor.py` (—Å —É—á–µ—Ç–æ–º —Ñ–ª–∞–≥–∞ `_internal_on_entry_actions_done`). (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.6, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
‚è≥ (TODO) –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `executor.py`, –µ—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω `input_handler` –Ω–µ –ø–æ–¥–æ—à–µ–ª. (–û—Å—Ç–∞–µ—Ç—Å—è)
‚úÖ (v11.8) –ü–µ—Ä–µ–≤–æ–¥ –ù–∞—á–∞–ª—å–Ω–æ–≥–æ –î–∏–∞–ª–æ–≥–∞ (`/start`) –Ω–∞ –ù–æ–≤—ã–π –î–≤–∏–∂–æ–∫: (–ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞—á v11.6, v11.7)
    ‚úÖ –ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (`start_dialogue.yaml`, –∫–ª—é—á `main_start_v1`) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–æ–ª–∏ (–ú–∞—Å—Ç–µ—Ä/–ö–ª–∏–µ–Ω—Ç) —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ `ASK_ROLE`, `EVALUATE_ROLE`, `ASK_ROLE_AGAIN`, `START_MASTER_REGISTRATION`, `START_CLIENT_SEARCH` –æ–ø–∏—Å–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ YAML. (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.6, —É—Ç–æ—á–Ω–µ–Ω–æ v11.7, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
    ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ `/upload_scenario`. (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.6, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
    ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/start` –≤ `handlers/start.py` –∏ `run.py` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —ç—Ç–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è —á–µ—Ä–µ–∑ `BehaviorEngine` (—Å –≤—ã–∑–æ–≤–æ–º `trigger_on_entry_for_state` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `on_entry` –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è). (–í—ã–ø–æ–ª–Ω–µ–Ω–æ v11.6, –¥–æ—Ä–∞–±–æ—Ç–∞–Ω–æ v11.8)
    ‚úÖ (v11.7) –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ Python-—Ñ—É–Ω–∫—Ü–∏—è `handlers.scenario_logic_handlers.evaluate_role_and_get_next_state` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `state_context.classified_role` –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
    ‚úÖ (v11.7) YAML-—Å—Ü–µ–Ω–∞—Ä–∏–π `start_dialogue.yaml` (—Å–æ—Å—Ç–æ—è–Ω–∏–µ `EVALUATE_ROLE`) –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `call_handler` (–≤—ã–∑–æ–≤ `evaluate_role_and_get_next_state`) –∏ `transition_to` (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `{next_state_key}`). (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ v11.8)
    ‚úÖ (v11.8) –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Ü–∏–∫–ª —Å—Ü–µ–Ω–∞—Ä–∏—è `/start` —Å —Ä–∞–∑–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–∞—Å—Ç–µ—Ä, –∫–ª–∏–µ–Ω—Ç, –Ω–µ—è—Å–Ω–æ) —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –≤ `executor.py` –∏ `engine.py`. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ñ–ª–∞–≥–∞ `on_entry` –∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `on_entry` –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ—Å–ª–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Ç–∞–∫–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ. (–†–∞–Ω–µ–µ –±—ã–ª–æ "–¢–µ–∫—É—â–∞—è –ø–æ–¥–∑–∞–¥–∞—á–∞" –≤ v11.7, —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ v11.8)
‚úÖ (v11.8) –û—Ç–∫–ª—é—á–µ–Ω/—É–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `ConversationHandler` –∏–∑ `run.py`. (–†–∞–Ω–µ–µ –±—ã–ª–æ "–û—Å—Ç–∞–µ—Ç—Å—è", —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ v11.8)
    ‚úÖ (v11.8) –ö–æ–º–∞–Ω–¥–∞ `/cancel` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `BehaviorEngine`. (–î–æ–±–∞–≤–ª–µ–Ω–æ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ v11.8)
    ‚úÖ (v11.8) –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å—Ç–∞—Ä—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ `run.py` –∏ `config.py`. (–î–æ–±–∞–≤–ª–µ–Ω–æ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ v11.8)

‚è≥ –û–ø–∏—Å–∞—Ç—å –∏ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –°—Ü–µ–Ω–∞—Ä–∏–π –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ú–∞—Å—Ç–µ—Ä–∞ (–Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ): (–°–ª–µ–¥—É—é—â–∞—è –∫—Ä—É–ø–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø–æ—Å–ª–µ /start)
    –û–ø–∏—Å–∞—Ç—å —à–∞–≥–∏ (–∑–∞–ø—Ä–æ—Å –≥–æ—Ä–æ–¥–∞, —É—Å–ª—É–≥ –∏ —Ç.–¥.) –≤ YAML.
    –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Python-—Ñ—É–Ω–∫—Ü–∏–∏ (handle_city_input –∏ —Ç.–¥.) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —à–∞–≥–æ–≤, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –¥–≤–∏–∂–∫–æ–º (—á–µ—Ä–µ–∑ call_handler).
‚è≥ –û–ø–∏—Å–∞—Ç—å –∏ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –°—Ü–µ–Ω–∞—Ä–∏–π –ü–æ–∏—Å–∫–∞ –ö–ª–∏–µ–Ω—Ç–∞ (–ö–Ω–æ–ø–∫–∞ –ú–µ–Ω—é): (–Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ). (–û—Å—Ç–∞–µ—Ç—Å—è)
‚è≥ –û–ø–∏—Å–∞—Ç—å –∏ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –°—Ü–µ–Ω–∞—Ä–∏–π –ü–æ–∏—Å–∫–∞ –ö–ª–∏–µ–Ω—Ç–∞ (AI-driven, –Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ). (–û—Å—Ç–∞–µ—Ç—Å—è)
‚è≥ –°—Ü–µ–Ω–∞—Ä–∏–π –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ü—Ä–æ—Ñ–∏–ª—è –ú–∞—Å—Ç–µ—Ä–∞ (–Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ). (–û—Å—Ç–∞–µ—Ç—Å—è)
‚è≥ –°—Ü–µ–Ω–∞—Ä–∏–π –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –ú–∞—Å—Ç–µ—Ä–∞ (–Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ). (–û—Å—Ç–∞–µ—Ç—Å—è)
‚è≥ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞ (–≤–æ–∑–º–æ–∂–Ω–æ, —á–µ—Ä–µ–∑ state_context –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä history_context_key –≤ call_ai, —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏). (–û—Å—Ç–∞–µ—Ç—Å—è, —É—Ç–æ—á–Ω–µ–Ω–æ v11.6)
‚è≥ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. (–û—Å—Ç–∞–µ—Ç—Å—è)

Phase 5: –£–ª—É—á—à–µ–Ω–∏—è, –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)

‚è≥ –£–≥–ª—É–±–ª–µ–Ω–∏–µ AI (–±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã, –≤–æ–∑–º–æ–∂–Ω–æ, fine-tuning).
‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sentry).
‚è≥ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –ò–∑–º–µ–Ω–µ–Ω–∏—è–º AI API.
‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤/–¥–∞–Ω–Ω—ã—Ö Redis?).
‚è≥ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã).
‚è≥ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Rate Limiting, Guardrails, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö).
‚è≥ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –õ–æ–≥–∏–∫–∏: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Python-—Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –¥–≤–∏–∂–∫–æ–º, —Å–æ–¥–µ—Ä–∂–∞—Ç —á–∏—Å—Ç—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
‚è≥ Telegram Mini App (–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ): –ò–∑—É—á–µ–Ω–∏–µ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mini App (API –¥–ª—è –Ω–µ–≥–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —á—Ç–æ –∏ –¥–≤–∏–∂–æ–∫).
Phase 6: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –§—É–Ω–∫—Ü–∏–∏ –∏ –ó–∞–ø—É—Å–∫ (‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.5)

‚è≥ AI Scenario Management Agents (–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/–ü—Ä–æ—Ç–æ—Ç–∏–ø): –ò–∑—É—á–∏—Ç—å –∏, –≤–æ–∑–º–æ–∂–Ω–æ, —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø AI-–∞–≥–µ–Ω—Ç–æ–≤ (–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä/–†–µ–≤—å—é–µ—Ä/–†–µ–¥–∞–∫—Ç–æ—Ä) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å YAML-—Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏.
‚è≥ –î–æ—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Å–æ–æ–±—â–µ–Ω–∏—è, –∫–Ω–æ–ø–∫–∏, –≤–æ–∑–º–æ–∂–Ω–æ, Mini App).
‚è≥ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
‚è≥ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫.
‚è≥ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
‚è≥ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å–µ—Ä–≤–µ—Ä–µ.

–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –°–ø–∏—Å–æ–∫ –ö–æ–º–∞–Ω–¥ –ë–æ—Ç–∞:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã: /start (—Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ BehaviorEngine), /cancel (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ BehaviorEngine), (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) /search, /help, /support. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.6)
–ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã: /view_reg_codes, /add_reg_codes_file, /view_instructions, /upload_instructions (–∑–∞–≥–ª—É—à–∫–∞), /upload_scenario. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.6)

–ì–¥–µ –º—ã —Å–µ–π—á–∞—Å: (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
–§–∞–∑—ã 0, 1, 2, 3 –∑–∞–≤–µ—Ä—à–µ–Ω—ã.
–§–∞–∑–∞ 4 –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.
‚úÖ –®–∞–≥–∏ 1, 2 (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞) –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
‚úÖ –®–∞–≥ 3 (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ `BehaviorEngine`): –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –æ—Ç–ª–∞–∂–µ–Ω –∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`engine`, `executor`, `parser`, `state_manager`) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å "—á–∏—Å—Ç—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º" (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `on_entry` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤). –ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç.
‚úÖ –ü–µ—Ä–µ–≤–æ–¥ –ù–∞—á–∞–ª—å–Ω–æ–≥–æ –î–∏–∞–ª–æ–≥–∞ (`/start`) –Ω–∞ –ù–æ–≤—ã–π –î–≤–∏–∂–æ–∫: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω. –°—Ü–µ–Ω–∞—Ä–∏–π `start_dialogue.yaml` —Å–æ–∑–¥–∞–Ω, –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `/start` –∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
‚úÖ –°—Ç–∞—Ä—ã–π `ConversationHandler` —É–¥–∞–ª–µ–Ω –∏–∑ `run.py`. –ö–æ–º–∞–Ω–¥–∞ `/cancel` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è `BehaviorEngine` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å—Ç–∞—Ä—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.
üèÅ **–ö–ª—é—á–µ–≤–æ–π —ç—Ç–∞–ø —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `BehaviorEngine` –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è `/start` —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.**

–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥: (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.6 –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
1.  **–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –æ–ø–∏—Å–∞–Ω–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–∞ –Ω–∞ –Ω–æ–≤–æ–º –¥–≤–∏–∂–∫–µ (`BehaviorEngine`).**
    * –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏–∫—É –≤ YAML-—Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `master_registration.yaml`).
    * –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å/–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Python-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ `handlers/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `handlers/registration.py` –∏–ª–∏ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `handlers/master_registration_logic.py`) –¥–ª—è –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ `call_handler` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞, —É—Å–ª—É–≥, –≤–≤–æ–¥–∞ –æ–ø—ã—Ç–∞, –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –∏ —Ç.–¥.).
    * –ü—Ä–æ–¥—É–º–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–∞ –≤ –ë–î (`Masters` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã) –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∏–ª–∏ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è.
2.  (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏–ª–∏ –ø–æ—Å–ª–µ) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `BehaviorEngine/executor.py`, –µ—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω `input_handler` –Ω–µ –ø–æ–¥–æ—à–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è "–ù–µ –ø–æ–Ω—è–ª –≤–∞—à –æ—Ç–≤–µ—Ç" –∏–ª–∏ –≤—ã–∑–æ–≤ AI –¥–ª—è –æ–±—â–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è). (–û—Å—Ç–∞–µ—Ç—Å—è TODO)

üóÇÔ∏è –§–∞–π–ª—ã –¥–ª—è –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ù–æ–≤–æ–≥–æ –ß–∞—Ç–∞ (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è AI) (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8 –Ω–∞ –æ—Å–Ω–æ–≤–µ v11.6 –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)
–≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–µ–¥—É–µ—Ç –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å.

ROADMAP.md (–≠—Ç–æ—Ç —Ñ–∞–π–ª): –ü–ª–∞–Ω, —Å—Ç–∞—Ç—É—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é (v11.8).
PROJECT_SUMMARY.md: –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è —Å–≤–æ–¥–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞).
run.py: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–≤–∏–∂–∫–∞ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
config.py: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.env). (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8 - —É–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
database/models.py: –ú–æ–¥–µ–ª–∏ SQLAlchemy (–≤–∫–ª—é—á–∞—è ConversationScenario, UserStates). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
BehaviorEngine/engine.py: –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–≤–∏–∂–∫–∞ (—Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π `on_entry` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤). (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
BehaviorEngine/executor.py: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏–π (—Å —Ñ–ª–∞–≥–æ–º `process_only_on_entry`). (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
BehaviorEngine/parser.py: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥ YAML —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—Å –∫—ç—à–µ–º). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
BehaviorEngine/state_manager.py: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
handlers/admin.py: –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã (–æ—Å–æ–±–µ–Ω–Ω–æ `/upload_scenario`). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
handlers/start.py: –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `/start`, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å BehaviorEngine. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
handlers/common_handlers.py: –°–æ–¥–µ—Ä–∂–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `/cancel`. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.8)
handlers/scenario_logic_handlers.py: (–ù–æ–≤—ã–π —Ñ–∞–π–ª v11.7, –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è v11.8) –°–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é `evaluate_role_and_get_next_state`.
ai/interaction.py: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI API (–≤–∫–ª—é—á–∞—è `_get_instruction_text`). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
utils/error_handler.py: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ PTB. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
utils/message_utils.py: –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å). (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
pyproject.toml: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ruff. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
.pre-commit-config.yaml: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pre-commit. (–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–∑ v11.6)
start_dialogue.yaml (–ü—Ä–∏–º–µ—Ä): –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è –¥–ª—è `/start`. (–û–±–Ω–æ–≤–ª–µ–Ω–æ v11.7, –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è v11.8)
# handlers/custom_test_handlers.py —É–±–∏—Ä–∞–µ–º –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –æ–Ω –±—ã–ª —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
```
